{"version":3,"sources":["main.js"],"names":["musicList","$","selector","document","querySelector","$playingBtn","$preBtn","$nextBtn","$title","$auther","$time","$current","index","clock","audioObject","Audio","autoplay","setMusic","currentMusic","console","log","src","innerText","auther","title","play","TimeToText","second","Number","parseInt","min","sec","onclick","e","classList","contains","remove","add","setInterval","curTime","currentTime","totalTime","duration","percent","style","width","pause","clearInterval","length"],"mappings":"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","file":"main.2050b881.map","sourceRoot":"..\\src","sourcesContent":["let musicList = [\r\n    {\r\n        \"src\": \"http://music.163.com/song/media/outer/url?id=28949444.mp3\",\r\n        \"title\": \"喜欢你\",\r\n        \"auther\": \"邓紫棋\",\r\n        \"img\": \"http://p1.music.126.net/iZ12K9e6Ry6z82yKCzYu4A==/109951167325809355.jpg?param=130y1300\"\r\n    },\r\n    {\r\n        \"src\":  \"http://music.163.com/song/media/outer/url?id=441491828.mp3\",\r\n        \"title\": \"水星记\",\r\n        \"auther\": \"郭顶\",\r\n        \"img\": \"http://p1.music.126.net/4bbnee1CMWOceU34Oulvrg==/109951163093593499.jpg\"\r\n    },\r\n    {\r\n        \"src\":  \"http://music.163.com/song/media/outer/url?id=1313107594.mp3\",\r\n        \"title\": \"倒数Live\",\r\n        \"auther\": \"邓紫棋\",\r\n        \"img\": \"https://p1.music.126.net/-KITGdgldiYFnuN_uk5t7w==/109951164441895314.jpg?param=200y200\"\r\n    }\r\n]\r\n\r\n\r\nconst $ = (selector) => document.querySelector(selector)\r\n\r\nconst $playingBtn = $('.player .icon-playing')\r\nconst $preBtn = $('.player .icon-player-left')\r\nconst $nextBtn = $('.player .icon-player-right')\r\nconst $title = $('.player .text h3')\r\nconst $auther = $('.player .text p')\r\nconst $time = $('.player .time')\r\nconst $current  = $('.player .current')\r\n\r\nlet index = 0\r\nlet clock = null\r\nlet audioObject = new Audio()\r\naudioObject.autoplay = false\r\nsetMusic()\r\n\r\n\r\nfunction setMusic(){\r\n    // loadMusic\r\n    let currentMusic = musicList[index]\r\n    currentMusic = musicList[index]\r\n    console.log(currentMusic)\r\n    audioObject.src = currentMusic.src\r\n    $auther.innerText = currentMusic.auther\r\n    $title.innerText = currentMusic.title\r\n    audioObject.play()\r\n}\r\n\r\nfunction TimeToText(second){\r\n    second = Number.parseInt(second)\r\n    let min = Number.parseInt(second/60)\r\n    let sec = second%60     // 分钟\r\n    sec = sec < 10 ? '0' + sec : sec+'' // 得到秒数\r\n    return min+ ':' +sec\r\n}\r\n\r\n\r\n\r\n$playingBtn.onclick = function (e) {\r\n    if ($playingBtn.classList.contains('icon-playing')) {\r\n        this.classList.remove('icon-playing')\r\n        this.classList.add('icon-pause')\r\n        audioObject.play()\r\n        clock = setInterval(()=>{\r\n            let curTime = audioObject.currentTime\r\n            let totalTime = audioObject.duration\r\n            let percent = curTime/totalTime\r\n            $current.style.width = percent*100 + '%'\r\n\r\n            $time.innerText = TimeToText(curTime)  + ' / '  + TimeToText(totalTime)\r\n\r\n\r\n        },1000)\r\n    } else {\r\n        this.classList.remove('icon-pause')\r\n        this.classList.add('icon-playing')\r\n        audioObject.pause()\r\n        clearInterval(clock)\r\n    }\r\n}\r\n\r\n$preBtn.onclick = (e)=> {\r\n    index -=1\r\n    index = (index+musicList.length) % musicList.length // 循环播放\r\n   setMusic()\r\n}\r\n\r\n$nextBtn.onclick = (e)=> {\r\n    index +=1\r\n    index = index % musicList.length // 循环播放\r\n   setMusic()\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*\r\nlet a = 1\r\nlet $playingBtn = document.querySelector('.icon-playing')\r\nlet $$btns = document.querySelectorAll('.iconfont')\r\nlet $nextBtn = document.querySelector('.icon-player-right')\r\n\r\n\r\n\r\n// console.log($playingBtn.classList.contains('icon-pause'));\r\n// $playingBtn.classList.remove('icon-playing')\r\n// $playingBtn.classList.add('icon-pause')\r\nlet audioObject = new Audio('http://m701.music.126.net/20230630124436/627263a0e5ccd633648e90b6a3eeb5c2/jdymusic/obj/wo3DlMOGwrbDjj7DisKw/22259960319/efe5/11de/7f21/74fb6084c59dc7c850ce8b53edc931c9.mp3')\r\n// 爱情转移\r\n\r\n$playingBtn.onclick = function (e) {\r\n    if ($playingBtn.classList.contains('icon-playing')) {\r\n        $playingBtn.classList.remove('icon-playing')\r\n        $playingBtn.classList.add('icon-pause')\r\n        audioObject.play()\r\n        console.log(audioObject.duration)\r\n        console.log(audioObject.currentTime)\r\n    } else {\r\n        $playingBtn.classList.remove('icon-pause')\r\n        $playingBtn.classList.add('icon-playing')\r\n        audioObject.pause()\r\n    }\r\n}\r\n\r\n$nextBtn.onclick = ()=>{\r\n    audioObject.src = \"http://m801.music.126.net/20230630124758/9acd5d2aa34cc0e321b9d6aebeab6805/jdymusic/obj/wo3DlMOGwrbDjj7DisKw/15230975977/6904/8af9/94d4/14d2a10eae6effe1057aee140f53b0bc.mp3\"\r\n    audioObject.play()\r\n}\r\n\r\n\r\n */\r\n"]}